{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import Alert from\"react-native-web/dist/exports/Alert\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ProductAdd from\"./ProductAdd\";import styles from\"../styles\";export default function ProductList(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var _useState3=useState([{desc:\"Prim\",price:5000},{desc:\"Dijkstra\",price:10000},{desc:\"Floyd-warshall\",price:32000}]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modalVisible=_useState6[0],setModalVisible=_useState6[1];var renderItem=function renderItem(_ref){var item=_ref.item,index=_ref.index;var backgroundColor=index===selected?\"#f9c2ff\":\"#00ffff\";return React.createElement(TouchableOpacity,{onPress:function onPress(){Alert.alert(\"您點選了:\"+item.desc),setSelected(index);},style:[styles.item,{backgroundColor:backgroundColor}]},React.createElement(Text,{style:styles.title},item.desc),React.createElement(Text,null,item.price),React.createElement(Text,null,\"/\",index));};function updatedata(newProduct){setProducts(function(oldProducts){return[].concat(_toConsumableArray(oldProducts),[newProduct]);});}return React.createElement(View,{style:styles.row},React.createElement(FlatList,{style:styles.listContainer,data:products,renderItem:renderItem,keyExtractor:function keyExtractor(item){return item.desc;}}),React.createElement(ProductAdd,{style:styles.formContainer,updateInAdd:updatedata,modalVisible:modalVisible,setModalVisible:setModalVisible}));};","map":{"version":3,"sources":["C:/reactNativeProject2/test-reactnative/src/product/ProductList.js"],"names":["React","useState","ProductAdd","styles","ProductList","selected","setSelected","desc","price","products","setProducts","modalVisible","setModalVisible","renderItem","item","index","backgroundColor","Alert","alert","title","updatedata","newProduct","oldProducts","row","listContainer","formContainer"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,C,gfAIA,MAAOC,CAAAA,UAAP,oBACA,MAAOC,CAAAA,MAAP,iBASA,cAAe,SAASC,CAAAA,WAAT,EAAsB,eAEDH,QAAQ,CAAC,IAAD,CAFP,wCAE1BI,QAF0B,eAEhBC,WAFgB,8BAKDL,QAAQ,CAAC,CACrC,CAACM,IAAI,CAAC,MAAN,CAAcC,KAAK,CAAC,IAApB,CADqC,CAErC,CAACD,IAAI,CAAC,UAAN,CAAkBC,KAAK,CAAC,KAAxB,CAFqC,CAGrC,CAACD,IAAI,CAAC,gBAAN,CAAwBC,KAAK,CAAC,KAA9B,CAHqC,CAAD,CALP,yCAK1BC,QAL0B,eAKhBC,WALgB,8BAYOT,QAAQ,CAAC,KAAD,CAZf,yCAY1BU,YAZ0B,eAYZC,eAZY,eAejC,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAqB,IAAlBC,CAAAA,IAAkB,MAAlBA,IAAkB,CAAZC,KAAY,MAAZA,KAAY,CACpC,GAAMC,CAAAA,eAAe,CAAGD,KAAK,GAAKV,QAAV,CAAqB,SAArB,CAAiC,SAAzD,CACA,MACI,qBAAC,gBAAD,EAAkB,OAAO,CAAI,kBAAI,CAACY,KAAK,CAACC,KAAN,CAAY,QAAQJ,IAAI,CAACP,IAAzB,EAA+BD,WAAW,CAACS,KAAD,CAA1C,CAAkD,CAApF,CAAsF,KAAK,CAAE,CAACZ,MAAM,CAACW,IAAR,CAAc,CAACE,eAAe,CAAfA,eAAD,CAAd,CAA7F,EACA,oBAAC,IAAD,EAAM,KAAK,CAAEb,MAAM,CAACgB,KAApB,EAA4BL,IAAI,CAACP,IAAjC,CADA,CAEA,oBAAC,IAAD,MAAOO,IAAI,CAACN,KAAZ,CAFA,CAGA,oBAAC,IAAD,UAAQO,KAAR,CAHA,CADJ,CAOH,CATD,CAWA,QAASK,CAAAA,UAAT,CAAoBC,UAApB,CAA+B,CAE3BX,WAAW,CAAC,SAAAY,WAAW,qCAAMA,WAAN,GAAmBD,UAAnB,IAAZ,CAAX,CACD,CAGH,MACI,qBAAC,IAAD,EAAM,KAAK,CAAElB,MAAM,CAACoB,GAApB,EACA,oBAAC,QAAD,EAAU,KAAK,CAAEpB,MAAM,CAACqB,aAAxB,CACI,IAAI,CAAEf,QADV,CAEI,UAAU,CAAII,UAFlB,CAGI,YAAY,CAAE,sBAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACP,IAAT,EAHtB,EADA,CAMA,oBAAC,UAAD,EACI,KAAK,CAAEJ,MAAM,CAACsB,aADlB,CAEI,WAAW,CAAEL,UAFjB,CAGI,YAAY,CAAET,YAHlB,CAII,eAAe,CAAEC,eAJrB,EANA,CADJ,CAcH","sourcesContent":["import React, {useState} from 'react';\r\nimport { Alert } from 'react-native';\r\nimport { SafeAreaView, View, FlatList, StyleSheet, Text, StatusBar,TouchableOpacity } from 'react-native';\r\n\r\nimport ProductAdd from './ProductAdd';\r\nimport styles from '../styles';\r\n\r\n// 資料本身\r\n// const data =[\r\n//     {name:\"Prim\", price:5000},\r\n//     {name:\"Dijkstra\", price:10000},\r\n//     {name:\"Floyd-warshall\", price:32000}\r\n// ]\r\n\r\nexport default function ProductList(){\r\n    // useState\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    // form 資料\r\n    const [products, setProducts] = useState([\r\n        {desc:\"Prim\", price:5000},\r\n        {desc:\"Dijkstra\", price:10000},\r\n        {desc:\"Floyd-warshall\", price:32000}\r\n    ]);\r\n\r\n    // modal\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n\r\n    // 定義每筆資料(內容,css....)\r\n    const renderItem = ({ item, index }) => {\r\n        const backgroundColor = index === selected ? \"#f9c2ff\" : \"#00ffff\";\r\n        return(\r\n            <TouchableOpacity onPress = {()=>{Alert.alert(\"您點選了:\"+item.desc),setSelected(index)}} style={[styles.item, {backgroundColor}]}>\r\n            <Text style={styles.title}>{item.desc}</Text>\r\n            <Text>{item.price}</Text>\r\n            <Text>/{index}</Text>\r\n            </TouchableOpacity>\r\n        );\r\n    }\r\n\r\n    function updatedata(newProduct){\r\n        // 加入到串列尾\r\n        setProducts(oldProducts=>[...oldProducts, newProduct]);\r\n      }\r\n\r\n    // export回傳\r\n    return (\r\n        <View style={styles.row}>\r\n        <FlatList style={styles.listContainer}\r\n            data={products} \r\n            renderItem = {renderItem}\r\n            keyExtractor={item => item.desc}>\r\n        </FlatList>\r\n        <ProductAdd \r\n            style={styles.formContainer}    \r\n            updateInAdd={updatedata}\r\n            modalVisible={modalVisible}\r\n            setModalVisible={setModalVisible}/>\r\n        </View>\r\n      );\r\n};\r\n\r\n\r\n// const app = StyleSheet.create({\r\n//     c: {\r\n//       flex: 1,\r\n//       flexDirection: \"column\",\r\n//     },\r\n//   });\r\n\r\n\r\n\r\n  \r\n\r\n"]},"metadata":{},"sourceType":"module"}